{"version":3,"file":"js/799.f000d300.js","mappings":"8LAEA,MAAMA,EAAa,CAAEC,MAAO,iBACtBC,GAA0BC,EAAAA,EAAAA,GAAoB,MAAO,CAAEF,MAAO,mBAAqB,EAC1EE,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/BA,EAAAA,EAAAA,GAAoB,QAAS,CACxCC,GAAI,eACJH,MAAO,gBACPI,SAAU,GACVC,SAAU,SAGZ,GACEC,EAAa,CAAEN,MAAO,YACtBO,GAA0BC,EAAAA,EAAAA,IAAiB,QAC3CC,GAA0BP,EAAAA,EAAAA,GAAoB,SAAU,CAAEQ,QAAS,eAAiB,SAAU,GAC9FC,GAA0BT,EAAAA,EAAAA,GAAoB,SAAU,CAAEQ,QAAS,eAAiB,SAAU,GAE9F,SAAUE,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,GAAuBC,EAAAA,EAAAA,IAAkB,aAE/C,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOvB,EAAY,CAC3DE,GACAC,EAAAA,EAAAA,GAAoB,MAAOI,EAAY,EACrCiB,EAAAA,EAAAA,IAAaJ,EAAsB,CACjCK,QAASV,EAAO,KAAOA,EAAO,GAAMW,GAAiBZ,EAAKa,gBACzD,CACDC,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACtBrB,KAEFsB,EAAG,IAELpB,EACAE,GACAT,EAAAA,EAAAA,GAAoB,SAAU,CAC5BsB,QAASV,EAAO,KAAOA,EAAO,GAAMW,GAAiBZ,EAAKiB,gBACzD,e,iCC/BT,GAAeC,EAAAA,EAAAA,IAAgB,CAC3BC,KAAM,MACNC,WAAY,GACZC,OACI,IAAIC,EAAY,GACZC,EAAkB,GACtB,MAAO,CACHD,YACAC,YAGRC,UACIC,EAAAA,EAAAA,GAAU,iBAAkBC,IACxBC,KAAKJ,QAAUG,MAIvBE,QAAS,CACLf,cACI,GAAIgB,IAAAA,cAAqB,CACrBC,QAAQC,IAAIJ,KAAKJ,SACjB,IAAIS,EAAeC,SAASC,eAAe,gBACb,qBAAnBP,KAAKL,WACRK,KAAKL,WAAa,KAClBK,KAAKL,UAAUa,SACfR,KAAKL,UAAUc,qBACfT,KAAKL,UAAUe,WAIvBP,QAAQC,IAAIJ,KAAKJ,SACjBI,KAAKL,UAAYO,IAAAA,aACb,CACIS,KAAM,MACNC,IAAKZ,KAAKJ,QACViB,QAAQ,EACRC,MAAM,GAEV,CACIC,QAAS,CAEL,QAAW,gCAGvBf,KAAKL,UAAUqB,mBAAmBX,GAClCL,KAAKL,UAAUsB,OACfjB,KAAKL,UAAUuB,SAGvB5B,cACIU,KAAKL,UAAUwB,QACfnB,KAAKL,UAAUa,SACfR,KAAKL,UAAUc,qBACfT,KAAKL,UAAUe,c,QCrD3B,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAShD,KAEpE","sources":["webpack://bilibili-recording/./node_modules/vue-loader/dist/templateLoader.js","webpack://bilibili-recording/./node_modules/vue-loader/dist/index.js","webpack://bilibili-recording/./src/views/LiveWatch.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"mainContainer\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"video-container\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", null, [\n    /*#__PURE__*/_createElementVNode(\"video\", {\n      id: \"videoElement\",\n      class: \"centeredVideo\",\n      controls: \"\",\n      autoplay: \"\"\n    })\n  ])\n], -1)\nconst _hoisted_3 = { class: \"controls\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Load\")\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"button\", { onclick: \"flv_start()\" }, \"Start\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", { onclick: \"flv_pause()\" }, \"Pause\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_el_button, {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.videoPlayer()))\n      }, {\n        default: _withCtx(() => [\n          _hoisted_4\n        ]),\n        _: 1\n      }),\n      _hoisted_5,\n      _hoisted_6,\n      _createElementVNode(\"button\", {\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.flv_destroy()))\n      }, \"Destroy\")\n    ])\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nimport flvjs from \"flv.js\";\nimport mitter from \"@/define/mitt\";\n\nexport default defineComponent({\n    name: \"app\",\n    components: {},\n    data() {\n        let flvPlayer = {} as flvjs.Player;\n        let liveurl: string = \"\";\n        return {\n            flvPlayer,\n            liveurl\n        }\n    },\n    updated() {\n        mitter.on('updateliveurl', (e: any) => {\n            this.liveurl = e;\n            // console.log(this.liveurl)\n        });\n    },\n    methods: {\n        videoPlayer() {\n            if (flvjs.isSupported()) {\n                console.log(this.liveurl)\n                var videoElement = document.getElementById(\"videoElement\");\n                if (typeof this.flvPlayer !== \"undefined\") {\n                    if (this.flvPlayer != {} as flvjs.Player) {\n                        this.flvPlayer.unload();\n                        this.flvPlayer.detachMediaElement();\n                        this.flvPlayer.destroy();\n                        // this.flvPlayer = null;\n                    }\n                }\n                console.log(this.liveurl)\n                this.flvPlayer = flvjs.createPlayer(\n                    {\n                        type: \"flv\",\n                        url: this.liveurl,\n                        isLive: true,\n                        cors: true,\n                    },\n                    {\n                        headers: {\n\n                            \"Referer\": \"https://live.bilibili.com/\"\n                        }\n                    });\n                this.flvPlayer.attachMediaElement(videoElement as HTMLMediaElement);\n                this.flvPlayer.load();\n                this.flvPlayer.play();\n            }\n        },\n        flv_destroy() {\n            this.flvPlayer.pause();\n            this.flvPlayer.unload();\n            this.flvPlayer.detachMediaElement();\n            this.flvPlayer.destroy();\n            // this.flvPlayer = null;\n        },\n    },\n});\n","import { render } from \"./LiveWatch.vue?vue&type=template&id=7b20f82b&ts=true\"\nimport script from \"./LiveWatch.vue?vue&type=script&lang=ts\"\nexport * from \"./LiveWatch.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\GoProject\\\\src\\\\GO_code\\\\bilibili-live-gin\\\\frontEnd\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_createElementVNode","id","controls","autoplay","_hoisted_3","_hoisted_4","_createTextVNode","_hoisted_5","onclick","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_button","_resolveComponent","_openBlock","_createElementBlock","_createVNode","onClick","$event","videoPlayer","default","_withCtx","_","flv_destroy","defineComponent","name","components","data","flvPlayer","liveurl","updated","mitter","e","this","methods","flvjs","console","log","videoElement","document","getElementById","unload","detachMediaElement","destroy","type","url","isLive","cors","headers","attachMediaElement","load","play","pause","__exports__"],"sourceRoot":""}